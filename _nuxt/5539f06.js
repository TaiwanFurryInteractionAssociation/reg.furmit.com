(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{491:function(t,e,n){"use strict";n.r(e);var r=n(3),c=(n(22),n(45),n(36),n(71)),o={data:function(){return{loading:!1,purchaseHistory:null}},mounted:function(){this.$store.commit("app/setTitle",this.$t("index.buttons.raffleTickets")),this.getRaffleTicketPurchases()},methods:{getRaffleTicketPurchases:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$axios.get("/api/raffleTickets/history").then((function(e){var output=[],n=null,r=[],c=[];if(e.data.raffleTicketsHistory&&(e.data.raffleTicketsHistory.map((function(t){if(n&&t.purchased_at!=n.purchaseTime){var dt=new Date(n.purchaseTime);n.purchaseTime=dt.toLocaleString(),r.push(c),n.serials=r,output.unshift(n),n=null}n||(n={count:t.batch_total,purchaseTime:t.purchased_at,serials:[]},r=[],c=[]),t.raffle_ticket_id-c.slice(-1)[0]>1&&(r.push(c),c=[]),c.push(t.raffle_ticket_id)})),n)){var dt=new Date(n.purchaseTime);n.purchaseTime=dt.toLocaleString(),r.push(c),n.serials=r,output.unshift(n)}t.purchaseHistory=output})).catch((function(t){c.a.showRequestError(t)}));case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()}}},l=n(20),component=Object(l.a)(o,(function(){var t=this,e=t._self._c;return e("div",[e("Loading",{attrs:{value:t.loading}}),t._v(" "),t.purchaseHistory&&t.purchaseHistory.length>0?e("div",t._l(t.purchaseHistory,(function(n){return e("div",{key:n.purchaseTime,staticClass:"round drop-shadow p:16|48 p:16|24@<xs mb:16 bg:white lh:48px",staticStyle:{position:"relative"}},[e("div",{staticClass:"font:24",staticStyle:{width:"90px",float:"left"}},[t._v("\n        +"+t._s(n.count)+"\n      ")]),t._v(" "),e("div",{staticClass:"lh:24px@<xs flex:wrap-reverse@<xs",staticStyle:{display:"flex","justify-content":"space-between"}},[e("div",{staticClass:"font:24 {font:16;w:100%}@<xs"},t._l(n.serials,(function(n){return e("div",[t._v("\n            #"+t._s(n[0])+" ~ "+t._s(n[n.length-1])+"\n          ")])})),0),t._v(" "),e("div",[t._v(t._s(n.purchaseTime))])]),t._v(" "),e("div",{staticStyle:{clear:"both"}})])})),0):e("div",[e("div",{staticClass:"round drop-shadow p:16|48 p:16|24@<xs mb:16 bg:white lh:48px text:center",staticStyle:{position:"relative"}},[t._v("\n      "+t._s(t.$t("common.noData"))+"\n    ")])])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Loading:n(171).default})}}]);