(window.webpackJsonp=window.webpackJsonp||[]).push([[68,5,22],{373:function(t,e,r){"use strict";r.r(e);var n=r(137),o=r.n(n),c={props:{type:{type:String,default:"primary"}},computed:{computedStyle:function(){return{background:o.a[this.type].background,color:o.a[this.type].color}}},mounted:function(){this.button=this.$refs.button}},l=r(20),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("div",[e("button",{ref:"button",staticClass:"b:0 p:8|16 w:100% border-radius:4 cursor:pointer transform:translateY(-2):hover transition:0.2s",style:t.computedStyle,on:{click:function(e){return e.preventDefault(),t.$emit("click")}}},[t._t("default")],2)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Button:r(373).default})},380:function(t,e,r){"use strict";r.r(e);var n=r(137),o=r.n(n),c={props:{field:{type:String,default:""},value:{default:""},error:{default:null},required:{type:Boolean,default:!1},disabled:{type:String,default:null}},data:function(){return{COLORS:o.a}},computed:{computedStyle:function(){return this.error&&0!=this.error.length?{border:"1px solid #f44336"}:{}}}},l=r(20),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("div",[t.field?e("div",{staticClass:"my:8 font-weight:bold font-color:gray font-size:1rem"},[t._v("\n    "+t._s(t.field)+" :\n  ")]):t._e(),t._v(" "),e("select",{style:t.computedStyle,attrs:{required:t.required,disabled:t.disabled},domProps:{value:t.value},on:{change:function(e){return t.$emit("input",e.target.value)}}},[t._t("default")],2)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Select:r(380).default})},403:function(t,e,r){var content=r(428);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(62).default)("3b1bb4b0",content,!0,{sourceMap:!1})},427:function(t,e,r){"use strict";r(403)},428:function(t,e,r){var n=r(61)(!1);n.push([t.i,"body[data-v-f46c6b0e]{overflow:hidden}.furmit-furstars-stage-vote[data-v-f46c6b0e]{background-image:url(/assets/furstars/bg_dots.png);background-color:#fff;background-repeat:repeat;background-position:50%;background-blend-mode:difference;overflow:hidden}.furmit-furstars-stage-vote[data-v-f46c6b0e],.furmit-furstars-stage-vote .bg-bars[data-v-f46c6b0e]{width:100%;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center}.furmit-furstars-stage-vote .bg-bars[data-v-f46c6b0e]{grid-gap:16px;gap:16px;background-image:url(/assets/furstars/bg_bars.png);background-position:50%;background-color:hsla(0,0%,100%,.5);background-blend-mode:color;background-size:cover}.furmit-furstars-stage-vote .title[data-v-f46c6b0e]{width:75%;z-index:1}.mark-bg[data-v-f46c6b0e],.mark-solid[data-v-f46c6b0e]{position:absolute;width:45%;z-index:1;top:15%}.score_box[data-v-f46c6b0e]{width:100%;background-size:contain;background-repeat:no-repeat;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:9vw;font-family:Futura;border:8px;grid-gap:16px;gap:16px;box-sizing:border-box;background:hsla(0,0%,100%,.5);border-radius:32px;padding-top:2.5vh;padding-bottom:2.5vh;max-width:40vh}.score_box.red[data-v-f46c6b0e]{border:4px solid #c43737}.score_box.black[data-v-f46c6b0e]{border:4px solid #232326}.scores.voted .score_box[data-v-f46c6b0e]:not(.voted){display:none}.scores.voted .score_box.voted[data-v-f46c6b0e]{width:50%}.scores[data-v-f46c6b0e]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:95%;grid-gap:calc(max(16px, 1vw));gap:calc(max(16px, 1vw));box-sizing:border-box}.scores img[data-v-f46c6b0e]{width:100%}.scene-voting .title[data-v-f46c6b0e]{width:75%}.scene-voting.furmit-furstars-stage-vote[data-v-f46c6b0e]{justify-content:space-between}.score_box.red[data-v-f46c6b0e]{color:#c43737}.score_box.black[data-v-f46c6b0e]{color:#232326}@font-face{font-family:Futura;src:url(/assets/fonts/futura.ttf)}.actions[data-v-f46c6b0e]{position:absolute;top:0;right:50%;display:flex;flex-direction:row;word-break:keep-all;z-index:10}.text_callout[data-v-f46c6b0e]{width:75%}img[data-v-f46c6b0e]{max-width:40vh}",""]),t.exports=n},498:function(t,e,r){"use strict";r.r(e);r(45),r(38),r(11);var n=r(3),o=(r(22),r(67),{name:"page-furstars-vote",layout:"furstars",data:function(){return{update_interval:null,scene:"",redSide:null,blackSide:null,voted:null,stage:1,debug:localStorage.getItem("debuggggg")}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/api/me").then((function(){})).catch((function(e){t.$router.push(t.localePath("/"))}));case 2:t.update_interval=setInterval(Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.API_Status();case 2:if(null!=(r=e.sent)&&r.success){e.next=5;break}return e.abrupt("return");case 5:t.scene!=="scene-".concat(r.status.scene)&&(t.voted=null),t.stage=r.status.stage||1,t.scene="scene-".concat(r.status.scene),t.redSide=r.status.redSide,t.blackSide=r.status.blackSide;case 10:case"end":return e.stop()}}),e)}))),5e3);case 3:case"end":return e.stop()}}),e)})))()},destroyed:function(){clearInterval(this.update_interval)},methods:{API_Status:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/api/furmit/furstars");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})))()},API_Vote:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$axios.post("/api/furmit/furstars",{mit_furstars_team_id:t}).data;case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()},vote:function(t){var e=this;if(this.voted)return alert("本回合已投票過.");confirm("是否投給：".concat("red"===t?"紅隊":"黑隊","？"))&&this.API_Vote("red"===t?this.redSide.id:this.blackSide.id).then((function(){e.voted=t}))}}}),c=(r(427),r(20)),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"furmit-furstars-stage-vote",class:t.scene+" stage_".concat(t.stage)},[e("div",{staticClass:"bg-bars"},[e("img",{staticClass:"title",attrs:{src:"/assets/furstars/title.png"}}),t._v(" "),"scene-voting"===t.scene?e("div",{staticStyle:{display:"flex","flex-direction":"row"}},[e("label",{staticClass:"strokeme",staticStyle:{"font-family":"Futura",color:"black","font-size":"7.5vh"}},[t._v("STAGE")]),t._v("\n             \n            "),e("label",{staticClass:"strokeme",staticStyle:{"font-family":"Futura",color:"red","font-size":"7.5vh"}},[t._v(t._s(t.stage))])]):t._e(),t._v(" "),"scene-voting"===t.scene?e("div",{staticClass:"scores",class:t.voted?"voted":""},[e("div",{staticClass:"score_box red",class:"red"===t.voted?"voted":"",on:{click:function(e){return t.vote("red")}}},[e("img",{staticClass:"mark",attrs:{src:"/assets/furstars/mark_red_solid.png"}}),t._v(" "),e("img",{staticClass:"team-name",attrs:{src:"/assets/furstars/teams/".concat(t.stage,"_red.png"),alt:"furstar-team-red"}})]),t._v(" "),e("div",{staticClass:"score_box black",class:"black"===t.voted?"voted":"",on:{click:function(e){return t.vote("black")}}},[e("img",{staticClass:"mark",attrs:{src:"/assets/furstars/mark_black_solid.png"}}),t._v(" "),e("img",{staticClass:"team-name",attrs:{src:"/assets/furstars/teams/".concat(t.stage,"_black.png"),alt:"furstar-team-black"}})])]):t._e(),t._v(" "),"scene-voting"!==t.scene||t.voted?t._e():e("img",{staticClass:"text_callout",attrs:{src:"/assets/furstars/text_callout.png"}}),t._v(" "),"守逸讚"===t.debug?e("div",{staticClass:"actions"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.scene,expression:"scene"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.scene=e.target.multiple?r:r[0]}}},t._l(["scene-lobby","scene-showcase-red","scene-showcase-black","scene-voting","scene-result","scene-finalresult","scene-prize","scene-good"],(function(r,n){return e("option",{domProps:{value:r}},[t._v("\n                    "+t._s(r)+"\n                ")])})),0),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.stage,expression:"stage"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.stage=e.target.multiple?r:r[0]}}},t._l([1,2,3,4,5,6,7,8],(function(r,n){return e("option",{domProps:{value:r}},[t._v("\n                    Stage "+t._s(r)+"\n                ")])})),0),t._v(" "),e("button",{on:{click:function(e){t.voted=null}}},[t._v("Clear")])]):t._e()])])}),[],!1,null,"f46c6b0e",null);e.default=component.exports;installComponents(component,{Select:r(380).default,Button:r(373).default})}}]);